import os
from PIL import Image
import matplotlib.pyplot as plt
import numpy as np

sizes = []

for i in range(1386, 9709, 1):
    try:
        im = Image.open("bone_data/validation/"+str(i)+".png")
        print(im.size)
        sizes.append(im.size)
    except:
        print(".")

sizes.sort()

classifiedsizes = [[(0,0),0]]

for i in sizes:
    new_elem = sizes.pop()
    if new_elem != classifiedsizes[0][0]:
        classifiedsizes.insert(0,[new_elem,0])
    else:
        classifiedsizes[0][1]+=1
#print(classifiedsizes)

x = np.zeros(1)
y = np.zeros(1)
s = np.zeros(1)
i = 0

for size in classifiedsizes:
    x = np.append(x,classifiedsizes[i][0][0])
    y = np.append(y,classifiedsizes[i][0][1])
    s = np.append(s,classifiedsizes[i][1])
    i+=1
    
plt.scatter(x,y)
plt.xlabel('width (pixel number)')
plt.ylabel('height (pixel number)')
plt.title('IMAGE SIZE DISTRIBUTION - rsna-bone-age')
plt.show()